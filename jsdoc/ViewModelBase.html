<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: ViewModelBase</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: ViewModelBase</h1>

    



<section>

<header>
    <h2>
    ViewModelBase
    </h2>
    
        <div class="class-description"><p>ViewModelBase</p></div>
    
</header>

<article>
    <div class="container-overview">
    

    
        
<dt>
    <h4 class="name" id="ViewModelBase"><span class="type-signature"></span>new ViewModelBase<span class="signature">(config)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <h2>View Model Base</h2><p>Base Class for View Model.</p>
<p>Convenient base class for rendering html/js in container, rendering, events and cleanup.</p>
<p>provides init, addEventListeners, removeEventListeners, render, onClose, close
Listens for 'close' and 'closeRequest' events.  Triggers 'unload' event on close.</p>
<p>Inherit from ViewModelBase to provide your implementation. </p>
<ul>
<li>Call ViewModelBase.call(this, config); to initalize base object</li>
<li>Your initalization ...</li>
<li>Add your listeners to eventListeners. e.g this.eventListeners.push({ elem: this.container, type: 'close', listener: this.onClose.bind(this) });</li>
</ul>
<p>NOTE: on listeners DONT forget to bind to the object, DOM Element handlers are just pointers to functions,
they DONT take the object/this with them.  e.g use ..., listener: this.onClickSomething.<em>bind(this)</em> }</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Configuration settings. { id. model, onCloseCallback, title }</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"><p>Sequence number assigned.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>The Model to view</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>removeContainerOnClose</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"><p>Remove container on close, vs clear.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onCloseCallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>Function to call when closed, View model instance is passed as param.</p></td>
        </tr>

    
    </tbody>
</table>
            </td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        <dl>
            
<dt>
    <h4 class="name" id="eventListeners"><span class="type-signature"></span>eventListeners<span class="type-signature"> :Array</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>Array of event listeners, As { elem: , type: , listener:  }</p>
<p>e.g this.eventListeners.push({ elem: this.container, type: 'close', listener: this.onClose.bind(this) });</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">Array</span>


            </li>
        </ul>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        
            
<dt>
    <h4 class="name" id="TEMPLATE"><span class="type-signature">(protected) </span>TEMPLATE<span class="type-signature"> :DOMElement</span></h4>

    
</dt>
<dd>
    
    <div class="description">
        <p>HTML template to clone, when render in a container.</p>
<p>Typicaly included by using, requireLite(module.__filename,'html').
Alternatvely point it to a DOM node already present (and hidden) in the html page.</p>
<p>e.g. MyViewModel.prototype.TEMPLATE = requireLite(module.__filename,'html');</p>
    </div>
    

    
        <h5>Type:</h5>
        <ul>
            <li>
                
<span class="param-type">DOMElement</span>


            </li>
        </ul>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line80">line 80</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    
</dd>

        </dl>
    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<dt>
    <h4 class="name" id="_close"><span class="type-signature">(protected) </span>_close<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Close/cleanup. call removeEventListeners, calll onCloseCallback, empty the container,
and trigger a 'unload' event on the container.</p>
<p>(If this.removeContainerOnClose is set, the container itself is removed and no unload message triggered)</p>
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="addEventListeners"><span class="type-signature"></span>addEventListeners<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>binds the eventListeners, (i.e. calls addEventListener for each element of eventListeners),</p>
<p>Only adds listensers if not already listening</p>
<p>If &quot;elem&quot; is null, assumes this is this.container, 
i.e. You can add items to the  eventListeners Array before the container is defined.</p>
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line149">line 149</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Close/cleanup. Base implementation calls _close</p>
<p>Inherit and Override/Overload for use. i.e</p>
<ul>
<li>Do you own clean up </li>
<li>Call this._close()</li>
</ul>
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line299">line 299</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="onClickClose"><span class="type-signature">(protected) </span>onClickClose<span class="signature">(ev)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Generic onClickClose handler, User has clicked a button, to request the Inner Container be closed. Send a 'closeRequest' to container.
Link a &quot;close&quot; button to onCLickClose as/if required.</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ev</code></td>
            

            <td class="type">
            
                
<span class="param-type">DOM-Event</span>


            
            </td>

            

            

            <td class="description last"><p>Event triggers</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line285">line 285</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="onClose"><span class="type-signature">(protected) </span>onClose<span class="signature">(ev)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Generic onClose message handler,  A 'close' message has been received, we MUST close. Call .close()</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ev</code></td>
            

            <td class="type">
            
                
<span class="param-type">DOM-Event</span>


            
            </td>

            

            

            <td class="description last"><p>Event triggers, ev.target must be the container the message was from</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line319">line 319</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="onCloseRequest"><span class="type-signature">(protected) </span>onCloseRequest<span class="signature">(ev)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>A 'closeRequest' message has been received, we have been asked to close.
If OK to close, send a 'close' messages. Otherwise (show a message) do nothing (i.e. ignore message).</p>
<p>Base implementation always sends a 'close', </p>
<p>Overload to provide your own implementation.</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ev</code></td>
            

            <td class="type">
            
                
<span class="param-type">Event</span>


            
            </td>

            

            

            <td class="description last"><p>Event</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line207">line 207</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<dt>
    <h4 class="name" id="removeEventListeners"><span class="type-signature"></span>removeEventListeners<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Unbind the eventListeners, (i.e. Call removeEventListener for each element of eventListeners),</p>
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line182">line 182</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">()</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Render the contents in the container, using &quot;vmrLite.render&quot; with &quot;this&quot; as the View Model Object</p>
    </div>
    

    

    

    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line231">line 231</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="show"><span class="type-signature"></span>show<span class="signature">(container)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Show this view in the container specified.</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>container</code></td>
            

            <td class="type">
            
                
<span class="param-type">DOMElement</span>
|

<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line106">line 106</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>this</p>
</div>



        

    
</dd>

        
            
<dt>
    <h4 class="name" id="showModal"><span class="type-signature"></span>showModal<span class="signature">(none)</span><span class="type-signature"></span></h4>

    
</dt>
<dd>

    
    <div class="description">
        <p>Show the view model within a dialogue like box.</p>
<p>=== NOTE: Only available if module ShowModalVM loaded.</p>
    </div>
    

    

    

    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>none</code></td>
            

            <td class="type">
            
                
<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>This view is the viewModel to show.</p></td>
        </tr>

    
    </tbody>
</table>
    

    
<dl class="details">
    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ViewModelBase.js.html">vmrStarter/ViewModelBase.js</a>, <a href="ViewModelBase.js.html#line335">line 335</a>
    </li></ul></dd>
    

    

    

    
</dl>


    

    

    

    

    

    

    
</dd>

        </dl>
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Modules</h3><ul><li><a href="module-requireLite.html">requireLite</a></li><li><a href="module-vmrLite.html">vmrLite</a></li></ul><h3>Classes</h3><ul><li><a href="MessageDlgVM.html">MessageDlgVM</a></li><li><a href="ShowModalVM.html">ShowModalVM</a></li><li><a href="StackedUIVM.html">StackedUIVM</a></li><li><a href="TabbedUIVM.html">TabbedUIVM</a></li><li><a href="ViewModelBase.html">ViewModelBase</a></li><li><a href="ViewModelOuter.html">ViewModelOuter</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha9</a> on Sat Oct 11 2014 21:18:18 GMT+1300 (New Zealand Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>