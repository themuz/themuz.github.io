<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Module: requireLite</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Module: requireLite</h1>

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><h3>Client (Browser/js) Implementation of require/CommonJS loader</h3><p>Browser/client emulation of CommonJS/node-js's syncronous module loader (require) library.</p>
<p>With a Lite KISS (Keep It Simple Stupid) approach</p>
<p>See nodejs's module loader for background information. (https://nodejs.org/docs/latest/api/modules.html#modules_the_module_object)</p>
<h4>Supports js,css,html and json loadng.</h4><h4>Documentation :-</h4><p>See this README.md OR jsdoc on-line here <a href="http://themuz.github.io/jsdoc/module-requireLite.html">jsdoc requireLite!</a>.</p>
<h4>Samples :-</h4><p>And samples basic and the standard &quot;todo&quot; app are here. <a href="http://themuz.github.io/">themuz GitHub io</a>.</p>
<h4>Features :-</h4><ul>
<li><em>cache</em> - Modules are cached after the first time they are loaded</li>
<li><em>sync</em> - synchronous (i.e wait) by default like nodejs, Make code/dependancies simple/managable.</li>
<li><em>async</em> - Async with callback, if you must. </li>
<li><em>module</em> - In each module, the &quot;module&quot; free variable is a reference to the object representing the current module being loaded.</li>
<li><em>module.exports</em> - The object assigned to module.exports will be the require of the requireLite call.</li>
<li><em>not just js</em> - In addition json/css/html is also supported !!</li>
<li><em>encapsulated</em> - js is encapsulated in the module pattern, no namespace/global pollution. i.e. Variables local to the module will be private</li>
<li><em>no dependancies</em> </li>
</ul>
<h4>Other file types :=</h4><ul>
<li><em>json support</em> - If the url extension is '.json' json will be loaded, and parsed (JSON.parse) and object returned.</li>
<li><em>css support</em> - If the url extension is '.css', css will be automatically loaded as a window.document.head.link and link's DOM-Element returned. </li>
<li><em>html support</em> - If the url extension is '.html' the html will be loaded into a div and div's html-Element returned. </li>
</ul>
<h4>Usage</h4><pre class="prettyprint source"><code>var loadedObject = require(url,[callback]);</code></pre><p>loadedObject is whatever is returned by the js, by assigning to module.exports (see below)</p>
<h4>JS Modules (.js)</h4><p>In each js module the &quot;module&quot; free variable is a reference to the object representing the current module.</p>
<p>The <em>module</em> variable has the following attributes :-</p>
<ul>
<li>exports - Object - The object/function being/to-be exported. Assign to module.exports to return your loadedObject. (initalized to {})</li>
<li>id - String - The identifier assigned to the module</li>
<li>filename - String - The pathname/url to the module. (e.g. /js/modules/Circle.js)</li>
<li>loaded - Boolean - Whether or not the module is done loading, or is in the process of loading</li>
</ul>
<p>In addition the &quot;exports&quot; free variable is also available, corresponds to module.exports and initialized to {}. 
If you use the &quot;exports&quot; variable, only defined new properties/methods. 
Don't assign to it, as will be lost. If you wish to return
just an object assign to &quot;module.exports&quot; instead.</p>
<h4>Deferred loading.</h4><p>If you wich to defer loading dependent modules to run-time (vs load-time) ensure you save/use the 
requireLite.cwd (Current working directory) property, since the cwd may differ at run-time. 
Use this variable when loading modules at run-time.</p>
<p>e.g</p>
<pre class="prettyprint source"><code>function MyModule() { etc ... }    

MyModule.cwd = require.cwd || ''; // This allows js compatability with node-js or browser 

MyModule.doitlater = function() {
    defered_module_loaded=require(MyModule.cwd + './deferred_module.js')
}</code></pre><h4>Isnt sync slow, with lots of http requests.</h4><p>NO, Not if  all modules are pre-loaded (as we should do in production mode for performance)
The require is immediate, why code for complex dependancies/async code when not needed.</p>
<p>In fact if we can pre load the modules FASTER, i.e. in parallel (subject to dependancies)</p>
<p>This pre-loading is my next project, See below the TODO list.</p>
<h4>Example Module (circle.js)</h4><pre class="prettyprint source"><code>var PI = Math.PI;
var Circle={}; 

Circle.area = function (r) {
  return PI * r * r;
};

Circle.circumference = function (r) {
  return 2 * PI * r;
};

// we could of use the free var &quot;exports&quot; instead of Circle in this example.
// in which case the below statement, is not required (i.e exports === module.exports)
module.exports = Circle; </code></pre><h4>Example Usage  (async)</h4><pre class="prettyprint source"><code>var  Circle=require('./lib/circle.js');
alert('The are of a 1&quot; circle is ' + Circle.area(1) + '&quot;')</code></pre><h4>Example Usage  (async)</h4><pre class="prettyprint source"><code>require('./lib/circle.js', function(circle) {
  // Do stuff with the &quot;circle&quot;, now its loaded   
});</code></pre><h4>Change log</h4><pre class="prettyprint source"><code>2016-02-04 rename module.__filename -> filename, __id -> id for consistency with CommonJS/node-js
2016-02-04 removed module.__dirname as in-consistent with CommonJS (use require.cwd as a replacement)</code></pre><h4>TODO:-</h4><ul>
<li>Ability to place the app in dev mode, build up the modules/depencancies by running the application. </li>
<li>Tool to wrap all modules, with dependancies into a single unit for production use.</li>
<li>Handle cyclic references e.g. A requires B that requires A</li>
<li>if Async scan the js code for require('module.js' .. and load that async 1st.</li>
</ul></div>
        

        
            















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line3">line 3</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".requireLite.cwd"><span class="type-signature">(static) </span>requireLite.cwd<span class="type-signature"> :string</span></h4>




<div class="description">
    <p>Current Working Directory WITH a trailing &quot;/&quot;</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>'./'</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line265">line 265</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".requireLite.inBrowser"><span class="type-signature">(static) </span>requireLite.inBrowser<span class="type-signature"> :Boolean</span></h4>




<div class="description">
    <p>Always true since running in the brower. 
Will be undefined if running under node-js require.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Boolean</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>true</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line312">line 312</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".requireLite.SEQ"><span class="type-signature">(protected, static) </span>requireLite.SEQ<span class="type-signature"> :Integer</span></h4>




<div class="description">
    <p>Sequence generator for requireLite.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Integer</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>'getTime() % 2147483648'</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line295">line 295</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".requireLite.version"><span class="type-signature">(static) </span>requireLite.version<span class="type-signature"> :String</span></h4>




<div class="description">
    <p>Version of the library</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>"0.3"</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line252">line 252</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".requireLite"><span class="type-signature">(static) </span>requireLite<span class="signature">(url, callback)</span><span class="type-signature"> &rarr; {null|Object}</span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>url</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>url to load. Paths should be relative to current module.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>OPTIONAL Callback function, to enable async call, parameter passed is value of module.exports</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line136">line 136</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>null if async, value of module.exports if sync.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">null</span>
|

<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".requireLite.loadScript"><span class="type-signature">(protected, static) </span>requireLite.loadScript<span class="signature">(module)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Load the module (initiate a XMLHttpRequest)</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Module to load</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line418">line 418</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id=".requireLite.xhrComplete"><span class="type-signature">(protected, static) </span>requireLite.xhrComplete<span class="signature">(module, xhr)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Process completed xhr request</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>module</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Module loading</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xhr</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>XML Http request</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="requireLite.js.html">requireLite.js</a>, <a href="requireLite.js.html#line330">line 330</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-requireLite.html">requireLite</a></li><li><a href="module-vmrLite.html">vmrLite</a></li></ul><h3>Classes</h3><ul><li><a href="VMBase.html">VMBase</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Feb 05 2016 19:20:10 GMT+1300 (New Zealand Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>